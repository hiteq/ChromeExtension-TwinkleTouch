/* TwinkleTouch Chrome Extension - Advanced Sparkle Styles */

/* 컨테이너 스타일 */
#twinkle-sparkle-container {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  pointer-events: none !important;
  z-index: 2147483647 !important;
  overflow: hidden !important;
  margin: 0 !important;
  padding: 0 !important;
  border: none !important;
  background: transparent !important;
}

/* 개별 반짝이 요소 스타일 */
.twinkle-sparkle {
  position: absolute !important;
  transform: translate(-50%, -50%) !important;
  will-change: transform, left, top !important;
  transition: all 1.5s cubic-bezier(0, 0, 0.58, 1) !important;
  -webkit-backface-visibility: hidden !important;
  backface-visibility: hidden !important;
  -webkit-perspective: 1000px !important;
  perspective: 1000px !important;
  -webkit-transform-style: preserve-3d !important;
  transform-style: preserve-3d !important;
  pointer-events: none !important;
  margin: 0 !important;
  padding: 0 !important;
  border: none !important;
  z-index: 999 !important;
}

/* 메인 스케일 애니메이션 */
@keyframes twinkle-scale {
  0% { 
    -webkit-transform: scale(0) translateZ(0);
    transform: scale(0) translateZ(0); 
    opacity: 0;
  }
  40% { 
    -webkit-transform: scale(0.8) translateZ(0);
    transform: scale(0.8) translateZ(0); 
    opacity: 1;
  }
  60% { 
    -webkit-transform: scale(0.9) translateZ(0);
    transform: scale(0.9) translateZ(0); 
    opacity: 1;
  }
  100% { 
    -webkit-transform: scale(0) translateZ(0);
    transform: scale(0) translateZ(0); 
    opacity: 0;
  }
}

/* Safari용 별도 애니메이션 규칙 */
@-webkit-keyframes twinkle-scale {
  0% { 
    -webkit-transform: scale(0) translateZ(0);
    transform: scale(0) translateZ(0); 
    opacity: 0;
  }
  40% { 
    -webkit-transform: scale(0.8) translateZ(0);
    transform: scale(0.8) translateZ(0); 
    opacity: 1;
  }
  60% { 
    -webkit-transform: scale(0.9) translateZ(0);
    transform: scale(0.9) translateZ(0); 
    opacity: 1;
  }
  100% { 
    -webkit-transform: scale(0) translateZ(0);
    transform: scale(0) translateZ(0); 
    opacity: 0;
  }
}

/* SVG 별 모양 기본 스타일 */
.twinkle-sparkle svg {
  -webkit-filter: drop-shadow(0 0 10px currentColor);
  filter: drop-shadow(0 0 10px currentColor);
  -webkit-animation: twinkle-scale 1.5s cubic-bezier(0.645, 0.045, 0.355, 1) forwards;
  animation: twinkle-scale 1.5s cubic-bezier(0.645, 0.045, 0.355, 1) forwards;
  -webkit-will-change: transform;
  will-change: transform;
  pointer-events: none;
}

/* 별 모양의 4방향 확산 경로 */
.twinkle-sparkle svg path {
  pointer-events: none;
}

/* 성능 최적화를 위한 추가 스타일 */
.twinkle-sparkle * {
  pointer-events: none;
}

/* 브라우저 호환성을 위한 추가 접두사 */
.twinkle-sparkle {
  -webkit-transform: translate(-50%, -50%);
  -moz-transform: translate(-50%, -50%);
  -ms-transform: translate(-50%, -50%);
  -o-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  
  -webkit-transition: all 1.5s cubic-bezier(0, 0, 0.58, 1);
  -moz-transition: all 1.5s cubic-bezier(0, 0, 0.58, 1);
  -ms-transition: all 1.5s cubic-bezier(0, 0, 0.58, 1);
  -o-transition: all 1.5s cubic-bezier(0, 0, 0.58, 1);
  transition: all 1.5s cubic-bezier(0, 0, 0.58, 1);
}

/* 다크 모드 대응 */
@media (prefers-color-scheme: dark) {
  .twinkle-sparkle svg {
    -webkit-filter: drop-shadow(0 0 15px currentColor);
    filter: drop-shadow(0 0 15px currentColor);
  }
}

/* 고해상도 디스플레이 대응 */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .twinkle-sparkle svg {
    -webkit-filter: drop-shadow(0 0 8px currentColor);
    filter: drop-shadow(0 0 8px currentColor);
  }
}

/* 성능 제한 모드 (저사양 기기용) */
@media (prefers-reduced-motion: reduce) {
  .twinkle-sparkle {
    -webkit-animation-duration: 0.8s;
    animation-duration: 0.8s;
  }
  
  .twinkle-sparkle svg {
    -webkit-animation-duration: 0.8s;
    animation-duration: 0.8s;
    -webkit-filter: none;
    filter: none;
  }
} 